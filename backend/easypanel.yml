name: cubit-store-backend
image: ${EASYPANEL_DOCKERFILE_IMAGE}
domains:
  - domain: admin.cubitpackaging.com
    path: /
  - domain: api.cubitpackaging.com
    path: /
env:
  - name: NODE_ENV
    value: production
  - name: STORE_CORS
    value: https://cubitpackaging.com
  - name: ADMIN_CORS
    value: https://admin.cubitpackaging.com
  - name: AUTH_CORS
    value: https://admin.cubitpackaging.com
  - name: REDIS_URL
    value: redis://default:Hamza%406244@162.243.164.194:6379
  - name: JWT_SECRET
    value: supersecret
  - name: COOKIE_SECRET
    value: supersecret
  - name: DATABASE_URL
    value: postgres://postgres:Hamza%406244@162.243.164.194:5432/cubitstore?sslmode=disable
  - name: DB_NAME
    value: cubitstore
  - name: OPENAI_API_KEY
    value: ${OPENAI_API_KEY}
  - name: AUTO_GENERATE_DESCRIPTIONS
    value: false
  - name: SMTP_HOST
    value: smtp.gmail.com
  - name: SMTP_PORT
    value: 587
  - name: SMTP_USER
    value: ${SMTP_USER}
  - name: SMTP_PASS
    value: ${SMTP_PASS}
  - name: SMTP_FROM
    value: ${SMTP_FROM}
  - name: ADMIN_URL
    value: https://admin.cubitpackaging.com/app
ports:
  - port: 9000
    protocol: http
    public: true
    path: /
    secure: true
resources:
  cpu: 1
  memory: 1024
dockerfile: Dockerfile 